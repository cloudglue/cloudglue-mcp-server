{
  "manifest_version": "0.2",
  "name": "@cloudglue/cloudglue-mcp-server",
  "version": "0.2.3",
  "description": "Cloudglue MCP Server",
  "icon": "assets/icon.png",
  "author": {
    "name": "Aviary Inc."
  },
  "license": "MIT",
  "privacy_policies": ["https://cloudglue.dev/privacy"],
  "server": {
    "type": "node",
    "entry_point": "build/index.js",
    "mcp_config": {
      "command": "node",
      "args": ["${__dirname}/build/index.js"],
      "env": {
        "CLOUDGLUE_API_KEY": "${user_config.api_key}"
      }
    }
  },
  "user_config": {
    "api_key": {
      "type": "string",
      "title": "API Key",
      "description": "Your API key for authentication",
      "sensitive": true,
      "required": true
    }
  },
  "tools": [
    {
      "name": "list_collections",
      "description": "Discover available video collections and their basic metadata. Use this first to understand what video collections exist before using other collection-specific tools. Shows collection IDs needed for other tools, video counts, and collection types. For collections with type 'media-descriptions', use `describe_video` with the collection_id parameter to fetch previously extracted descriptions for a given Cloudglue file. For collections with type 'entities', use `extract_video_entities` with the collection_id parameter to fetch previously extracted entities for a given Cloudglue file. Results are paginated in 25 collections per page - use the 'page' parameter to retrieve specific pages (page 0 = first 25 collections, page 1 = next 25 collections, etc.). Each response includes `page` and `total_pages` fields."
    },
    {
      "name": "list_videos",
      "description": "Browse and search video metadata with powerful filtering options. Use this to explore available videos, find specific content by date, or see what's in a collection. Returns essential video info like duration, filename, and IDs needed for other tools. Results are paginated in 25 videos per page - use the 'page' parameter to retrieve specific pages (page 0 = first 25 videos, page 1 = next 25 videos, etc.). Each response includes `page` and `total_pages` fields. Use date filtering to focus on specific time periods, then paginate within those results."
    },
    {
      "name": "describe_video",
      "description": "Gets comprehensive video descriptions with intelligent cost optimization and pagination support. Automatically checks for existing descriptions before creating new ones. Supports YouTube URLs, Cloudglue URLs, and direct HTTP video URLs with different analysis levels. Results are paginated in 5-minute segments - use the 'page' parameter to retrieve specific time segments of longer videos (page 0 = first 5 minutes, page 1 = next 5 minutes, etc.). Use 'start_time_seconds' to begin pagination from a specific time index (defaults to 0 for start of video). The combination of start_time_seconds and page allows precise navigation: start_time_seconds sets the base offset, and page increments in 5-minute segments from that offset. When `collection_id` is provided (from a media-descriptions collection), this tool fetches previously extracted descriptions that were stored in that collection for the given Cloudglue file, saving time and cost. Use this for individual video analysis."
    },
    {
      "name": "extract_video_entities",
      "description": "Extract structured data and entities from videos with intelligent cost optimization and pagination support. Two modes: (1) Fetch existing entities from an entities collection by providing collection_id (prompt not required) - retrieves previously extracted entities stored in that collection for the given Cloudglue file, returns error if not found, (2) Extract new entities by providing prompt (collection_id optional) - automatically checks for existing extractions before creating new ones. Supports YouTube URLs, Cloudglue URLs, and direct HTTP video URLs. The quality of results depends heavily on your prompt specificity. Pagination is supported - use the 'page' parameter to retrieve specific pages of segment-level entities. Use this for individual video analysis."
    },
    {
      "name": "get_video_metadata",
      "description": "Get comprehensive technical metadata about a Cloudglue video file including duration, resolution, file size, processing status, and computed statistics. Use this when you need video specifications, file details, or processing information rather than content analysis. Different from content-focused tools like describe_video."
    },
    {
      "name": "retrieve_summaries",
      "description": "Bulk retrieve video summaries and titles from a collection to quickly understand its content and themes. Works with both rich-transcripts and media-descriptions collections. Use this as your first step when analyzing a collection - it's more efficient than retrieving full descriptions and helps you determine if you need more detailed information. Perfect for getting a high-level overview of what's in a collection, identifying common topics, or determining if a collection contains relevant content for a specific query. For single videos, use describe_video instead. For targeted content discovery, consider using search_video_summaries (for relevant videos) or search_video_moments (for specific segments) instead of browsing through all summaries. Results are paginated in 25 summaries per page - use the 'page' parameter to retrieve specific pages (page 0 = first 25 summaries, page 1 = next 25 summaries, etc.). Each response includes `page` and `total_pages` fields. For comprehensive collection analysis, paginate through all summaries by incrementing the `page` parameter."
    },
    {
      "name": "search_video_moments",
      "description": "AI-powered semantic search to find specific video segments within a collection. Uses Cloudglue's search API to locate relevant moments across speech, on-screen text, and visual descriptions. Returns structured search results with timestamps and metadata. Perfect for finding needle-in-haystack spoken and visual content, specific discussions, or thematic analysis."
    },
    {
      "name": "search_video_summaries",
      "description": "AI-powered semantic search to find relevant videos within a collection. Uses Cloudglue's search API to locate videos based on their content, summaries, and metadata. Works with rich-transcripts and media-descriptions collections. Returns structured search results with video information and relevance scores. Perfect for discovering videos by topic, theme, or content similarity."
    },
    {
      "name": "segment_video_camera_shots",
      "description": "Segment videos into camera shots with intelligent cost optimization. Automatically checks for existing shot segmentation jobs before creating new ones. Returns timestamps and metadata for each camera shot detected. Supports Cloudglue URLs and direct HTTP video URLs. Note: YouTube URLs are not supported for segmentation."
    },
    {
      "name": "segment_video_chapters",
      "description": "Segment videos into chapters with intelligent cost optimization. Automatically checks for existing chapter segmentation jobs before creating new ones. Returns timestamps and descriptions for each chapter detected. Supports all URL formats: Cloudglue URLs, YouTube URLs, public HTTP video URLs, and data connector URLs (Dropbox, Google Drive, Zoom)."
    }
  ],
  "prompts": [
    {
      "name": "analyze_video_collection",
      "description": "Analyze a video collection to understand its content, themes, and key insights",
      "arguments": ["collection_id"],
      "text": "Please analyze the video collection with ID '${arguments.collection_id}'. Start by listing the collection details, then retrieve summaries to understand the content themes, and provide insights about what this collection contains and its potential value."
    },
    {
      "name": "find_specific_content",
      "description": "Search for specific content or topics within video collections",
      "arguments": ["query", "collection_id"],
      "text": "Search for content related to '${arguments.query}' in the collection '${arguments.collection_id}'. Use semantic search to find relevant video moments and summaries, then provide a comprehensive overview of what was found with timestamps and context."
    },
    {
      "name": "extract_entities_from_video",
      "description": "Extract structured entities and data from a specific video",
      "arguments": ["video_url", "extraction_prompt"],
      "text": "Extract entities from the video at '${arguments.video_url}' using the following extraction criteria: '${arguments.extraction_prompt}'. Provide structured data about the entities found, including their types, relationships, and relevant context."
    },
    {
      "name": "video_content_summary",
      "description": "Get a comprehensive summary of video content",
      "arguments": ["video_url"],
      "text": "Provide a comprehensive analysis of the video at '${arguments.video_url}'. Include transcript, key topics discussed, visual elements, and main insights. Format the response in a clear, structured way that highlights the most important information."
    },
    {
      "name": "collection_data_mining",
      "description": "Perform data mining and analysis across multiple videos in a collection",
      "arguments": ["collection_id", "analysis_focus"],
      "text": "Perform comprehensive data mining on collection '${arguments.collection_id}' focusing on '${arguments.analysis_focus}'. Retrieve all summaries, descriptions, and entities to identify patterns, trends, and insights. Provide statistical analysis and key findings."
    }
  ]
}
